<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚µãƒã‚¤ãƒãƒ«ç¿»è¨³ã‚²ãƒ¼ãƒ </title>
    <style>
        body { font-family: 'Helvetica Neue', Arial, sans-serif; background-color: #2c3e50; color: white; text-align: center; padding: 20px; }
        .container { max-width: 600px; margin: 0 auto; background: #34495e; padding: 30px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.3); }
        h1 { color: #f1c40f; }
        #hp-display { font-size: 24px; margin-bottom: 20px; color: #e74c3c; }
        #question-box { font-size: 20px; margin: 20px 0; min-height: 60px; line-height: 1.5; background: #2c3e50; padding: 15px; border-radius: 10px; }
        input[type="text"] { width: 80%; padding: 12px; font-size: 18px; border-radius: 5px; border: none; outline: none; }
        button { padding: 12px 25px; font-size: 18px; background: #27ae60; color: white; border: none; border-radius: 5px; cursor: pointer; margin-top: 15px; transition: 0.3s; }
        button:hover { background: #2ecc71; }
        #message { margin-top: 20px; font-weight: bold; min-height: 24px; }
        .hint { font-size: 14px; color: #bdc3c7; margin-top: 10px; }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸï¸ ã‚µãƒã‚¤ãƒãƒ«ç¿»è¨³</h1>
    <div id="hp-display">ç”Ÿå‘½åŠ›: â¤ï¸â¤ï¸â¤ï¸</div>
    
    <div id="game-area">
        <p>ã€ãŠé¡Œã‚’è‹±èªã§ä¼ãˆã‚ï¼ã€‘</p>
        <div id="question-box"></div>
        <input type="text" id="answer-input" placeholder="Type your English here..." autocomplete="off">
        <br>
        <button onclick="checkAnswer()">é€ä¿¡ï¼</button>
        <div id="message"></div>
        <div id="hint-box" class="hint"></div>
    </div>
</div>

<script>
    const questions = [
        { jp: "ãŠè…¹ãŒç©ºã„ãŸã€‚ä½•ã‹é£Ÿã¹ç‰©ãŒæ¬²ã—ã„ã€‚", keywords: ["hungry", "food", "eat"], hint: "ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: hungry, food" },
        { jp: "å‡ºå£ã¯ã©ã“ã§ã™ã‹ï¼Ÿè¿·å­ã§ã™ã€‚", keywords: ["exit", "where", "lost"], hint: "ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: where, exit" },
        { jp: "åŠ©ã‘ã¦ï¼ãƒ¡ãƒ‡ã‚£ã‚«ãƒ«ã‚­ãƒƒãƒˆãŒå¿…è¦ã§ã™ã€‚", keywords: ["help", "medical", "doctor", "medicine"], hint: "ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: help, medical" },
        { jp: "ã“ã‚Œã¯ã„ãã‚‰ã§ã™ã‹ï¼Ÿé«˜ã„ã§ã™ã­ã€‚", keywords: ["how much", "price", "expensive"], hint: "ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: how much, expensive" }
    ];

    let currentIdx = 0;
    let hp = 3;

    function updateDisplay() {
        if (hp <= 0) {
            document.getElementById("game-area").innerHTML = "<h2>ğŸ’€ GAME OVER</h2><p>è¨€è‘‰ãŒé€šã˜ãšã€åŠ›å°½ããŸ...</p><button onclick='location.reload()'>å†æŒ‘æˆ¦</button>";
            return;
        }
        if (currentIdx >= questions.length) {
            document.getElementById("game-area").innerHTML = "<h2>ğŸ‰ CLEAR!</h2><p>ã‚ãªãŸã¯ç„¡äº‹ã«ç”Ÿãå»¶ã³ãŸï¼</p><button onclick='location.reload()'>ã‚‚ã†ä¸€åº¦éŠã¶</button>";
            return;
        }
        document.getElementById("question-box").innerText = questions[currentIdx].jp;
        document.getElementById("hp-display").innerText = "ç”Ÿå‘½åŠ›: " + "â¤ï¸".repeat(hp);
        document.getElementById("hint-box").innerText = "";
    }

    function checkAnswer() {
        const input = document.getElementById("answer-input").value.toLowerCase();
        const currentQ = questions[currentIdx];
        
        // å…¥åŠ›ã®ä¸­ã«ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒ1ã¤ä»¥ä¸Šå«ã¾ã‚Œã¦ã„ã‚‹ã‹åˆ¤å®š
        const found = currentQ.keywords.filter(word => input.includes(word));

        if (found.length >= 1) {
            document.getElementById("message").style.color = "#2ecc71";
            document.getElementById("message").innerText = "â­• é€šã˜ãŸï¼ç›¸æ‰‹ãŒç†è§£ã—ã¦ãã‚ŒãŸã€‚";
            currentIdx++;
            setTimeout(() => {
                document.getElementById("answer-input").value = "";
                document.getElementById("message").innerText = "";
                updateDisplay();
            }, 1500);
        } else {
            hp--;
            document.getElementById("message").style.color = "#e74c3c";
            document.getElementById("message").innerText = "âŒ é€šã˜ãªã„... ç›¸æ‰‹ãŒå›°æƒ‘ã—ã¦ã„ã‚‹ã€‚";
            document.getElementById("hint-box").innerText = "ãƒ’ãƒ³ãƒˆ: " + currentQ.hint;
            updateDisplay();
        }
    }

    // ã‚¨ãƒ³ã‚¿ãƒ¼ã‚­ãƒ¼ã§ã‚‚é€ä¿¡ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹
    document.getElementById("answer-input").addEventListener("keypress", function(e) {
        if (e.key === "Enter") checkAnswer();
    });

    updateDisplay();
</script>

</body>
</html>